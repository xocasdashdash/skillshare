/**
 * skillshare Design System — Hand-Drawn Edition
 * Light: paper texture, pencil lines, post-it accents
 * Dark: chalkboard green, chalk-white text, dashed borders
 * Typography: Kalam (headings) + IBM Plex Sans (body) + JetBrains Mono (code)
 */

@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&family=Patrick+Hand&family=IBM+Plex+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap');

/* ========================================
   LIGHT MODE — Paper
   ======================================== */
:root {
  /* Hand-drawn palette */
  --color-paper: #fdfbf7;
  --color-paper-warm: #faf6ee;
  --color-pencil: #2d2d2d;
  --color-pencil-light: #5a5a5a;
  --color-muted: #e5e0d8;
  --color-muted-dark: #8a8478;
  --color-accent: #ff4d4d;
  --color-blue: #2d5da1;
  --color-blue-light: #4a7ec4;
  --color-postit: #fff9c4;
  --color-postit-dark: #fff3a0;
  --color-success: #2e8b57;
  --color-success-light: #d4edda;
  --color-warning: #d4870e;
  --color-warning-light: #fff3cd;
  --color-danger: #c0392b;
  --color-danger-light: #f8d7da;
  --color-info: #2d5da1;
  --color-info-light: #d6e4f0;

  /* Wobbly border-radius */
  --radius-wobbly: 255px 15px 225px 15px / 15px 225px 15px 255px;
  --radius-wobbly-sm: 125px 10px 115px 10px / 10px 115px 10px 125px;
  --radius-wobbly-md: 185px 12px 165px 12px / 12px 165px 12px 185px;
  --radius-wobbly-btn: 255px 25px 225px 25px / 25px 225px 25px 255px;

  /* Hard shadows (no blur) */
  --shadow-sm: 3px 3px 0px 0px rgba(45, 45, 45, 0.12);
  --shadow-md: 4px 4px 0px 0px #2d2d2d;
  --shadow-lg: 8px 8px 0px 0px #2d2d2d;
  --shadow-hover: 2px 2px 0px 0px #2d2d2d;

  /* Map to Docusaurus IFM vars */
  --ifm-color-primary: #2d5da1;
  --ifm-color-primary-dark: #27528e;
  --ifm-color-primary-darker: #244d86;
  --ifm-color-primary-darkest: #1e3f6e;
  --ifm-color-primary-light: #3368b4;
  --ifm-color-primary-lighter: #366dbc;
  --ifm-color-primary-lightest: #4a7ec4;

  --ifm-background-color: #fdfbf7;
  --ifm-background-surface-color: #faf6ee;
  --ifm-navbar-background-color: rgba(253, 251, 247, 0.92);
  --ifm-footer-background-color: var(--color-paper-warm);

  --ifm-font-color-base: #2d2d2d;
  --ifm-font-color-secondary: #5a5a5a;

  /* Typography */
  --ifm-font-size-base: 17px;
  --ifm-heading-font-family: 'Kalam', cursive;
  --ifm-font-family-base: 'IBM Plex Sans', system-ui, -apple-system, sans-serif;
  --ifm-font-family-monospace: 'JetBrains Mono', 'Fira Code', monospace;
  --ifm-font-weight-semibold: 600;

  /* Code */
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.08);

  /* Custom component vars */
  --card-bg: #ffffff;
  --card-bg-hover: var(--color-paper-warm);
  --card-border: var(--color-pencil);
  --card-border-hover: var(--color-blue);
  --install-bg: #0f172a;
  --install-border: rgba(255, 255, 255, 0.1);
  --code-color: #94a3b8;
  --prompt-color: #2e8b57;
  --muted-text: #8a8478;
}

/* ========================================
   DARK MODE — Warm Parchment Night
   ======================================== */
[data-theme='dark'] {
  --color-paper: #1a1816;
  --color-paper-warm: #242120;
  --color-pencil: #f0ece1;
  --color-pencil-light: #ccc8bc;
  --color-muted: #3d3835;
  --color-muted-dark: #9a918a;
  --color-accent: #ff6b6b;
  --color-blue: #e8a84c;
  --color-blue-light: #f0be6e;
  --color-postit: rgba(232, 168, 76, 0.18);
  --color-postit-dark: rgba(240, 190, 110, 0.22);
  --color-success: #6dca8e;
  --color-success-light: rgba(109, 202, 142, 0.18);
  --color-warning: #f0b850;
  --color-warning-light: rgba(240, 184, 80, 0.18);
  --color-danger: #f06860;
  --color-danger-light: rgba(240, 104, 96, 0.18);
  --color-info: #7db8e8;
  --color-info-light: rgba(125, 184, 232, 0.18);

  /* Softer shadows on dark bg */
  --shadow-sm: 3px 3px 0px 0px rgba(0, 0, 0, 0.4);
  --shadow-md: 4px 4px 0px 0px rgba(0, 0, 0, 0.55);
  --shadow-lg: 8px 8px 0px 0px rgba(0, 0, 0, 0.55);
  --shadow-hover: 2px 2px 0px 0px rgba(0, 0, 0, 0.4);

  /* IFM overrides — amber/gold as primary */
  --ifm-color-primary: #e8a84c;
  --ifm-color-primary-dark: #e49a34;
  --ifm-color-primary-darker: #e09328;
  --ifm-color-primary-darkest: #c47b18;
  --ifm-color-primary-light: #ecb664;
  --ifm-color-primary-lighter: #eebe70;
  --ifm-color-primary-lightest: #f2d098;

  --ifm-background-color: #1a1816;
  --ifm-background-surface-color: #242120;
  --ifm-navbar-background-color: rgba(26, 24, 22, 0.97);
  --ifm-footer-background-color: #151311;

  --ifm-font-color-base: #f0ece1;
  --ifm-font-color-secondary: #ccc8bc;

  --card-bg: rgba(36, 33, 32, 0.7);
  --card-bg-hover: rgba(36, 33, 32, 0.95);
  --card-border: rgba(240, 236, 225, 0.3);
  --card-border-hover: var(--color-blue);
  --install-bg: rgba(20, 18, 16, 0.95);
  --install-border: rgba(232, 168, 76, 0.4);
  --code-color: #ccc8bc;
  --prompt-color: var(--color-success);
  --muted-text: #9a918a;
}

/* ========================================
   BASE STYLES
   ======================================== */

/* Dot grid background */
html {
  background-color: var(--ifm-background-color);
}

body {
  background-image: radial-gradient(var(--color-muted) 1px, transparent 1px);
  background-size: 24px 24px;
}

[data-theme='dark'] body {
  background-image: radial-gradient(rgba(61, 56, 53, 0.6) 1px, transparent 1px);
}

/* Selection color: post-it yellow */
::selection {
  background-color: var(--color-postit);
  color: var(--color-pencil);
}

[data-theme='dark'] ::selection {
  background-color: rgba(232, 168, 76, 0.35);
  color: var(--color-pencil);
}

/* Headings in Kalam */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--ifm-heading-font-family);
}

/* ========================================
   NAVBAR
   ======================================== */
.navbar {
  box-shadow: none;
  border-bottom: 2px dashed var(--color-muted-dark);
  backdrop-filter: blur(12px);
  padding: 0.25rem 0;
}

.navbar__title {
  font-family: 'Kalam', cursive;
  font-weight: 700;
  font-size: 1.3rem;
}

.navbar__link {
  font-size: 0.95rem;
  font-weight: 500;
}

.navbar__items .navbar__link {
  padding: 0.5rem 0.75rem;
}

/* ========================================
   MOBILE SIDEBAR — full screen
   ======================================== */
@media (max-width: 996px) {
  :root {
    --docusaurus-sidebar-width: 100vw !important;
  }

  .navbar-sidebar {
    background: var(--ifm-background-color) !important;
    width: 100vw !important;
    max-width: 100vw !important;
    min-height: 100vh !important;
    min-height: 100dvh !important;
    overflow: hidden !important;
  }

  .navbar-sidebar__items {
    background: var(--ifm-background-color) !important;
    width: 100vw !important;
  }

  .navbar-sidebar__item {
    background: var(--ifm-background-color) !important;
    width: 100vw !important;
    min-width: 100vw !important;
  }

  .navbar-sidebar__brand {
    background: var(--ifm-background-color) !important;
  }
}

.navbar-sidebar__brand {
  background: var(--ifm-background-color);
  padding: 1rem;
  width: 100% !important;
}

.navbar-sidebar .menu__link {
  color: var(--ifm-font-color-base);
  padding: 0.75rem 1rem;
}

.navbar-sidebar .navbar__link {
  color: var(--ifm-font-color-base);
}

/* ========================================
   FOOTER
   ======================================== */
.footer {
  background-color: var(--ifm-footer-background-color);
  border-top: none;
  position: relative;
  overflow: hidden;
}

/* Accent line at top */
.footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-blue), var(--color-accent), var(--color-warning));
  opacity: 0.7;
}

[data-theme='dark'] .footer::before {
  opacity: 0.6;
}

.footer .container {
  padding-top: 1.5rem;
}

.footer__title {
  font-family: 'Kalam', cursive;
  font-size: 0.92rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-dark);
  margin-bottom: 0.75rem;
  position: relative;
  display: inline-block;
}

[data-theme='dark'] .footer__title {
  color: var(--color-pencil-light);
}

/* Dashed underline accent */
.footer__title::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 24px;
  height: 2px;
  border-bottom: 2px dashed var(--color-blue);
}

.footer__link-item {
  color: var(--color-pencil-light);
  font-size: 0.92rem;
  padding: 0.2rem 0;
  display: inline-block;
  transition: all 0.2s ease;
  text-decoration: none;
}

[data-theme='dark'] .footer__link-item {
  color: var(--color-muted-dark);
}

.footer__link-item:hover {
  color: var(--color-blue);
  text-decoration: underline;
  text-decoration-style: wavy;
  text-underline-offset: 3px;
}

.footer__items {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.footer__col {
  padding: 0 1rem;
  border-right: 1px dashed var(--color-muted);
}

.footer__col:last-child {
  border-right: none;
}

.footer__bottom {
  margin-top: 1rem;
  padding-top: 0.75rem;
  border-top: 1px dashed var(--color-muted);
}

.footer__copyright {
  color: var(--color-muted-dark);
  font-size: 0.9rem;
  text-align: center;
}

.footer__link-item[href^="http"]::after {
  content: ' \2197';
  font-size: 0.7em;
  opacity: 0.5;
}

.footer__link-item[href^="http"]:hover::after {
  opacity: 1;
}

@media (max-width: 996px) {
  .footer .container {
    padding-top: 2rem;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  .footer__col {
    padding: 1rem 0;
    border-right: none;
    border-bottom: 1px dashed var(--color-muted);
  }

  .footer__col:last-child {
    border-bottom: none;
  }

  .footer__title {
    margin-bottom: 1rem;
  }
}

/* ========================================
   LINKS
   ======================================== */
a {
  transition: color 0.2s ease;
}

.markdown a {
  color: var(--color-blue);
  text-decoration: underline;
  text-decoration-style: wavy;
  text-underline-offset: 3px;
}

.markdown a:hover {
  color: var(--color-accent);
}

/* ========================================
   BUTTONS — Hand-drawn style
   ======================================== */
.button {
  transition: all 0.15s ease;
  cursor: pointer;
  font-weight: 600;
  border-radius: var(--radius-wobbly-btn);
}

.button:hover {
  transform: translate(2px, 2px);
}

/* Primary: green */
.button--primary {
  background: var(--color-success);
  border: 2px solid var(--color-pencil);
  color: #ffffff;
  box-shadow: var(--shadow-md);
}

.button--primary:hover {
  background: #257a4a;
  box-shadow: var(--shadow-hover);
  color: #ffffff;
}

.button--primary:active {
  box-shadow: none;
  transform: translate(4px, 4px);
}

/* Secondary: dashed border */
.button--secondary {
  background-color: transparent;
  border: 2px dashed var(--color-pencil);
  color: var(--color-pencil);
  box-shadow: var(--shadow-sm);
}

.button--secondary:hover {
  background-color: var(--color-paper-warm);
  border-color: var(--color-blue);
  color: var(--color-pencil);
  box-shadow: none;
}

[data-theme='dark'] .button--secondary {
  border-color: var(--color-pencil-light);
  color: var(--color-pencil);
}

[data-theme='dark'] .button--secondary:hover {
  background: rgba(232, 168, 76, 0.1);
  border-color: var(--color-blue);
}

/* ========================================
   DOCS SIDEBAR
   ======================================== */
.theme-doc-sidebar-container {
  border-right: 2px dashed var(--color-muted) !important;
}

[data-theme='dark'] .theme-doc-sidebar-container {
  border-right-color: var(--color-muted) !important;
}

.menu__link {
  border-radius: 8px;
  transition: all 0.2s ease;
  font-size: 0.95rem;
}

.menu__link:hover:not(.menu__link--active) {
  background: var(--color-paper-warm);
}

[data-theme='dark'] .menu__link:hover:not(.menu__link--active) {
  background: rgba(232, 168, 76, 0.08);
}

.menu__link--active {
  background: var(--color-postit);
  color: #2d2d2d;
  font-weight: 600;
  border: 1px solid var(--color-pencil);
}

[data-theme='dark'] .menu__link--active {
  background: rgba(232, 168, 76, 0.15);
  color: var(--color-blue);
  border: 1px solid rgba(232, 168, 76, 0.35);
}

/* Category labels in Kalam */
.menu__list-item-collapsible {
  border-radius: 8px;
}

.menu__list-item-collapsible > .menu__link {
  font-family: 'Kalam', cursive;
  font-weight: 700;
}

.menu__list-item-collapsible:hover {
  background: var(--color-paper-warm);
}

[data-theme='dark'] .menu__list-item-collapsible:hover {
  background: rgba(232, 168, 76, 0.08);
}

/* Expanded category has a subtle chalk underline */
.menu__list-item-collapsible .menu__link--sublist-caret {
  font-size: 0.95rem;
}

/* ========================================
   DOCS CONTENT
   ======================================== */
.markdown {
  --ifm-heading-margin-bottom: 0.75rem;
  --ifm-heading-margin-top: 2rem;
}

.markdown h1 {
  font-size: 2.25rem;
  margin-bottom: 1.5rem;
}

.markdown h2 {
  font-size: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px dashed var(--color-muted);
}

[data-theme='dark'] .markdown h2 {
  border-bottom-color: var(--color-muted);
}

.markdown h3 {
  font-size: 1.25rem;
}

.markdown p {
  line-height: 1.75;
  margin-bottom: 1.25rem;
}

/* ========================================
   CODE BLOCKS — Hand-drawn
   ======================================== */
.prism-code {
  border-radius: var(--radius-wobbly-sm) !important;
  font-size: 0.92rem;
  line-height: 1.6;
}

div[class*="codeBlockContainer"] {
  border-radius: var(--radius-wobbly-sm);
  overflow: hidden;
  box-shadow: 4px 4px 0px 0px #101827;
  border: 2px solid #101827;
  margin: 1.5rem 0;
}

[data-theme='dark'] div[class*="codeBlockContainer"] {
  box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.55);
  border-color: rgba(240, 236, 225, 0.25);
}

div[class*="codeBlockTitle"] {
  background: var(--color-paper-warm) !important;
  border-bottom: 1px dashed var(--color-muted-dark);
  font-family: var(--ifm-font-family-monospace);
  font-size: 0.88rem;
  padding: 0.625rem 1rem;
}

[data-theme='dark'] div[class*="codeBlockTitle"] {
  background: rgba(36, 33, 30, 0.8) !important;
  border-bottom-color: var(--color-muted);
}

/* Inline code */
code:not([class*="prism"]) {
  background: #f3eee2;
  color: var(--color-blue);
  padding: 0.12rem 0.45rem;
  border-radius: 6px;
  font-size: 0.92em;
  font-weight: 500;
  border: 1px dashed var(--color-muted-dark);
  box-shadow: 1px 1px 0 rgba(45, 45, 45, 0.08);
}

[data-theme='dark'] code:not([class*="prism"]) {
  background: rgba(50, 44, 40, 0.8);
  color: var(--color-blue);
  border-color: rgba(240, 236, 225, 0.2);
}

/* ========================================
   TABLES — Hand-drawn
   ======================================== */
table {
  display: table;
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 1.5rem 0;
  border-radius: 10px;
  overflow: hidden;
  border: 2px solid var(--color-pencil);
  box-shadow: var(--shadow-sm);
  background: var(--color-paper-warm);
}

[data-theme='dark'] table {
  border-color: rgba(240, 236, 225, 0.25);
  background: rgba(36, 33, 32, 0.5);
}

th {
  background: var(--color-postit);
  font-family: 'Kalam', cursive;
  font-weight: 700;
  font-size: 0.92rem;
  padding: 0.75rem 1rem;
  text-align: left;
  color: var(--color-pencil);
}

[data-theme='dark'] th {
  background: rgba(61, 56, 53, 0.8);
  color: var(--color-pencil);
}

td {
  padding: 0.75rem 1rem;
  border-top: 1px dashed var(--color-muted-dark);
}

[data-theme='dark'] td {
  border-top-color: var(--color-muted);
}

th + th,
td + td {
  border-left: 1px dashed var(--color-muted-dark);
}

[data-theme='dark'] th + th,
[data-theme='dark'] td + td {
  border-left-color: var(--color-muted);
}

/* ========================================
   ADMONITIONS — Hand-drawn
   ======================================== */
.admonition {
  border-radius: var(--radius-wobbly-sm);
  border: none;
  box-shadow: var(--shadow-sm);
}

.admonition-heading h5 {
  font-family: 'Kalam', cursive;
  font-size: 0.95rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* Note / Info */
.admonition-note,
.admonition-info {
  background: var(--color-info-light);
  border-left: 4px solid var(--color-blue);
}

[data-theme='dark'] .admonition-note,
[data-theme='dark'] .admonition-info {
  background: var(--color-info-light);
}

/* Tip */
.admonition-tip {
  background: var(--color-success-light);
  border-left: 4px solid var(--color-success);
}

[data-theme='dark'] .admonition-tip {
  background: var(--color-success-light);
}

/* Warning / Caution */
.admonition-warning,
.admonition-caution {
  background: var(--color-warning-light);
  border-left: 4px dashed var(--color-warning);
}

[data-theme='dark'] .admonition-warning,
[data-theme='dark'] .admonition-caution {
  background: var(--color-warning-light);
}

/* Danger */
.admonition-danger {
  background: var(--color-danger-light);
  border-left: 4px solid var(--color-danger);
}

[data-theme='dark'] .admonition-danger {
  background: var(--color-danger-light);
}

/* ========================================
   BLOCKQUOTE — Hand-drawn
   ======================================== */
blockquote {
  border-left: 3px solid var(--color-blue);
  background: var(--color-paper-warm);
  padding: 0.75rem 1.25rem;
  margin: 1.5rem 0;
  border-radius: 0 8px 8px 0;
  font-style: italic;
  color: var(--ifm-font-color-secondary);
}

[data-theme='dark'] blockquote {
  background: rgba(232, 168, 76, 0.06);
  border-left-color: var(--color-blue);
}

/* ========================================
   PAGINATION (prev/next)
   ======================================== */
.pagination-nav__link {
  border: 2px dashed var(--color-pencil);
  border-radius: var(--radius-wobbly-sm);
  padding: 1rem 1.25rem;
  transition: all 0.15s ease;
  box-shadow: var(--shadow-sm);
}

.pagination-nav__link:hover {
  border-color: var(--color-blue);
  box-shadow: var(--shadow-hover);
  transform: translate(1px, 1px);
}

[data-theme='dark'] .pagination-nav__link {
  border-color: rgba(240, 236, 225, 0.25);
  background: rgba(36, 33, 32, 0.4);
}

[data-theme='dark'] .pagination-nav__link:hover {
  border-color: var(--color-blue);
  background: rgba(36, 33, 32, 0.6);
}

.pagination-nav__label {
  font-family: 'Kalam', cursive;
  font-weight: 700;
}

/* ========================================
   BREADCRUMBS
   ======================================== */
.breadcrumbs__link {
  background: transparent;
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  transition: all 0.2s ease;
  font-family: 'Kalam', cursive;
}

.breadcrumbs__link:hover {
  background: var(--color-paper-warm);
}

[data-theme='dark'] .breadcrumbs__link:hover {
  background: rgba(232, 168, 76, 0.08);
}

/* ========================================
   TABLE OF CONTENTS
   ======================================== */
.table-of-contents {
  border-left: 2px dashed var(--color-muted);
  padding-left: 1rem;
}

[data-theme='dark'] .table-of-contents {
  border-left-color: var(--color-muted);
}

.table-of-contents__link {
  font-size: 0.9rem;
  color: var(--muted-text);
  transition: all 0.2s ease;
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  margin-left: -0.5rem;
}

.table-of-contents__link:hover {
  color: var(--ifm-font-color-base);
  background: var(--color-paper-warm);
}

.table-of-contents__link--active {
  color: var(--color-blue);
  font-weight: 600;
  text-decoration: underline;
  text-decoration-style: wavy;
  text-underline-offset: 3px;
}

[data-theme='dark'] .table-of-contents__link--active {
  color: var(--color-blue);
}

/* ========================================
   SEARCH BOX
   ======================================== */
.DocSearch-Button {
  border-radius: var(--radius-wobbly-sm) !important;
  background: var(--color-paper-warm) !important;
  border: 2px dashed var(--color-muted-dark) !important;
}

[data-theme='dark'] .DocSearch-Button {
  background: rgba(36, 33, 30, 0.5) !important;
  border-color: var(--color-muted) !important;
}

.DocSearch-Button:hover {
  border-color: var(--color-blue) !important;
  box-shadow: var(--shadow-sm) !important;
}

/* ========================================
   COPY BUTTON (Code blocks)
   ======================================== */
button[class*="copyButton"] {
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px dashed rgba(255, 255, 255, 0.2);
  transition: all 0.2s ease;
}

button[class*="copyButton"]:hover {
  background: rgba(232, 168, 76, 0.2);
  border-color: var(--color-blue);
}

/* ========================================
   BADGE
   ======================================== */
.badge {
  border-radius: var(--radius-wobbly-sm);
  font-family: var(--ifm-font-family-monospace);
  font-size: 0.82rem;
  font-weight: 500;
}

/* ========================================
   HERO (Docusaurus default hero class)
   ======================================== */
.hero {
  padding: 4rem 0;
  background: transparent;
}

/* ========================================
   ACCESSIBILITY
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  html {
    transition: none;
  }

  .button:hover {
    transform: none;
  }
}

.button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--color-blue);
  outline-offset: 2px;
}
